<!DOCTYPE HTML>
<html>

<head>
    <meta charset="UTF-8">
    <title>mouse move</title>
    <style>
        body {
            overflow: hidden;
        }

        #rod {
            width: calc(120vw*2);
            height: calc(86vw*2);
            position: absolute;
            background-image: url("water.jpg");
            background-size: cover;
        }
    </style>
</head>

<body>
    <div id="rod"> </div>

    <script>
        window.addEventListener("load", init);

        let rod = document.querySelector("#rod");
        let centerX = window.innerWidth / 2; //
        let centerY = window.innerHeight / 2; //
        let cx = rod.clientWidth / 2; //
        let cy = rod.clientHeight / 2; //
        let mouseX = 0,
            mouseY = 0;
        let xp = centerX,
            yp = centerY; //   

        function init() {
            rod.style.left = centerX - cx; //center
            rod.style.top = centerY - cy; //middle
            document.addEventListener("mousemove", mouseMove);
        }

        function mouseMove(e) {
            mouseX = e.pageX;
            mouseY = e.pageY;
            //xp = centerX - cx + (centerX - mouseX);
            //yp = centerY - cy + (centerY - mouseY);
            //xp = (mouseX / window.innerWidth) * (window.innerWidth - rod.clientWidth);
            //yp = (mouseY / window.innerHeight) * (window.innerHeight - rod.clientHeight);
            ////xp = ((window.innerWidth - mouseX) / centerX) * (window.innerWidth - rod.clientWidth);
            ////yp = ((window.innerHeight - mouseY) / centerY) * (window.innerHeight - rod.clientHeight);
            xp = ((window.innerWidth - mouseX) / window.innerWidth) * (window.innerWidth - rod.clientWidth);
            yp = ((window.innerHeight - mouseY) / window.innerHeight) * (window.innerHeight - rod.clientHeight);


            //bgx= ((ww-mx) ww) * (ww-bgw)
            //bgx = (mx/ww) * (ww-bgw)
            /*            if (xp < 0) {
                            xp = 0;
                        }
                        if (yp < 0) {
                            yp = 0;
                        }
                        if (xp > window.innerWidth - rod.clientWidth) {
                            xp = window.innerWidth - rod.clientWidth;
                        }
                        if (yp > window.innerHeight - rod.clientHeight) {
                            yp = window.innerHeight - rod.clientHeight;
                        }*/
            rod.style.left = xp + "px";
            rod.style.top = yp + "px";
        }

        /*
        $(document).ready(function(){
        	// Centerpunkter
        	var centerX = $(window).width()/2; //
        	var centerY = $(window).height()/2; //
        	var cx = $("#rod").width()/2; //
        	var cy = $("#rod").height()/2; //
        	
        	var mouseX = 0, mouseY = 0;
        	var xp = centerX, yp = centerY; //
        	
        	$(window).mousemove(function(e){
        		mouseX = e.pageX;
        		mouseY = e.pageY; 
        		xp = centerX-cx + (centerX - mouseX);
        		yp = centerY-cy + (centerY - mouseY);
        		
        		if (xp < 0) {
        			xp = 0;
        		}
        		if (yp < 0) {
        			yp = 0;
        		}		
        		if (xp > $(window).width() - $("#rod").width()) {
        			xp = $(window).width() - $("#rod").width();
        		}
        		if (yp > $(window).height() - $("#rod").height()) {
        			yp = $(window).height() - $("#rod").height();
        		}
        		
        		$("#rod").css({left:xp+"px", top:yp+"px"});
        	});

        }); */

    </script>
</body>

</html>